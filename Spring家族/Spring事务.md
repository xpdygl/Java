Spring中的事务如何传播：







spring中的事务什么时候失效：

首先明确的是spring中的事务底层是AOP动态代理实现的，

说白了就是事务运行的时候没有被代理对象执行。

常见的原因有几点：

1. 发生了自调用，类里面的this调用了本类的方法，此处这个this就是本身的类，而不是代理类。解决的办法就是让这个类成为代理类
2. 对象没有被容器管理
3. 数据库不支持事务
4. 方法不是public的。@transaction这个注解只能用在public上面
5. 异常被吃掉了，事务不会回滚。或者抛出的异常没有被定义，默认成runtimeException。